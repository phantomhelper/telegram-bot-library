-------------------------------------------------------------------------
два раза в день ( вечером и ночью )
бот отправляет пользователю художественный рассказ, рассказ сосотоит из трейлера(взятый из текста абзац), ссылки на телеграф,
картинки, а иногда и сопровождающего аудиофайла
@ here (down)
пользователь может добавить рассказ в папку "моя полка"
-------------------------------------------------------------------------
каждому рассказу и его сопровождающим файлам присваивается уникальный номер: от первого и по порядку вверх - таким образом рассказ хранится в бд



-------------------------------------------------------------------------
у пользователя есть папки:
моя полка
-------------------------------------------------------------------------



-------------------------------------------------------------------------
в боте есть навигация, в ней пользователь может зайти в "поиск", где пользователю будут предложены жанры рассказов, условные:
• ужасы
• романтика
• приключения
- это для примера, потом назову и сформулирую корректный список
-------------------------------------------------------------------------



-------------------------------------------------------------------------
когда пользователь нажимает на выбранный жанр, ему высвечивается страничка на 10 рассказов ( с названиями ) по рейтингу, у пользователя есть возможность перехода по страничкам.
1 страница: 1-10 рассказ
2 страница: 11-20 рассказ
и т.д.

после того, как пользователь выбрал рассказ, бот отправляет ему этот рассказ сообщением, в формате, который я описал выше.
-------------------------------------------------------------------------



-------------------------------------------------------------------------
под рассказом у пользователя есть кнопки:
поставить оценку 1,2 или 3 бала
1 бал -1 к рейтингу
2 бала - 0 к рейтнгу
3 бала - +1 к рейтингу рассказа
а еще кнопка "добавить на полку",
если пользователь добавляет рассказ на полку, рассказ закрепляется у пользователя в лияном избранном, а так же рассказу добавляется 2 бала к рейтингу












отдельная бд, что юзер смотрит и сделать реакцию на + и -, моя полка




j = 1
      for i in range( config['users'] ):
          data_daily_messages = random_passage()
          if data_daily_messages['photo_path'] != None:
              photo = open(data_daily_messages['photo_path'], 'rb')
              j = 1
              while j >= config['users']:
                  print(j)
                  daily_messages_day_id = db_users.find_one({ "id" : j })
                  print('# DEBUG: ' + str(daily_messages_day_id))
                  mid_p = bot.send_photo(daily_messages_day_id['tid'], photo, caption = data_daily_messages['brief'] + "\n\n" + str(data_daily_messages['telegraph_url']))

                  data = {
                      "mid" : mid_p.message_id,
                      "title" : data_daily_messages['text'],
                      "id" : data_daily_messages['id']
                  }
                  db_messages.insert_one(data)
                  db_users.update_one( {'tid': daily_messages_day_id['tid'] }, {'$set': { 'last_passage': data_daily_messages['id'] }} )
                  j+=1

          elif data_daily_messages['audio_path'] != None:
              audio  = open(data_daily_messages['audio_path'], 'rb')
              mid_a = bot.send_audio(__root__, audio, caption = data_daily_messages['brief'] + "\n\n" + str(data_daily_messages['telegraph_url']))
              data = {
                  "mid" : mid_a.message_id,
                  "title" : data_daily_messages['text'],
                  "id" : data_daily_messages['id']
              }
              db_messages.insert_one(data)
              db_users.update_one( {'tid': __root__ }, {'$set': { 'last_passage': data_daily_messages['id'] }} )

          time.sleep(0.2)
      time.sleep(60)
